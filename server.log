
> aura@0.1.0 dev
> next dev

  â–² Next.js 14.2.13
  - Local:        http://localhost:3000
  - Environments: .env

 âœ“ Starting...
 âœ“ Ready in 1427ms
 âœ“ Compiled /api/auth/send-sms in 417ms (136 modules)
[AUTH DEBUG] ÐžÑ‚Ð¿Ñ€Ð°Ð²ÐºÐ° SMS { phone: '+73332131020', purpose: 'registration' }
prisma:query DELETE FROM "public"."SMSVerification" WHERE ("public"."SMSVerification"."phone" = $1 AND "public"."SMSVerification"."purpose" = $2 AND "public"."SMSVerification"."isUsed" = $3)
prisma:query INSERT INTO "public"."SMSVerification" ("id","phone","code","purpose","isUsed","attempts","expiresAt","createdAt") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING "public"."SMSVerification"."id", "public"."SMSVerification"."phone", "public"."SMSVerification"."code", "public"."SMSVerification"."purpose", "public"."SMSVerification"."isUsed", "public"."SMSVerification"."attempts", "public"."SMSVerification"."expiresAt", "public"."SMSVerification"."createdAt", "public"."SMSVerification"."usedAt"

ðŸ” SMS ÐšÐžÐ” Ð´Ð»Ñ +73332131020: 9959

ðŸ“± Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ ÑÑ‚Ð¾Ñ‚ ÐºÐ¾Ð´ Ð´Ð»Ñ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ð¸

 POST /api/auth/send-sms 200 in 2632ms
 âœ“ Compiled /api/auth/register in 78ms (138 modules)
[AUTH DEBUG] ÐÐ°Ñ‡Ð°Ð»Ð¾ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ð¸ { provider: 'phone' }
prisma:query SELECT "public"."SMSVerification"."id", "public"."SMSVerification"."phone", "public"."SMSVerification"."code", "public"."SMSVerification"."purpose", "public"."SMSVerification"."isUsed", "public"."SMSVerification"."attempts", "public"."SMSVerification"."expiresAt", "public"."SMSVerification"."createdAt", "public"."SMSVerification"."usedAt" FROM "public"."SMSVerification" WHERE ("public"."SMSVerification"."phone" = $1 AND "public"."SMSVerification"."purpose" = $2 AND "public"."SMSVerification"."isUsed" = $3) ORDER BY "public"."SMSVerification"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query UPDATE "public"."SMSVerification" SET "isUsed" = $1, "usedAt" = $2 WHERE ("public"."SMSVerification"."id" = $3 AND 1=1) RETURNING "public"."SMSVerification"."id", "public"."SMSVerification"."phone", "public"."SMSVerification"."code", "public"."SMSVerification"."purpose", "public"."SMSVerification"."isUsed", "public"."SMSVerification"."attempts", "public"."SMSVerification"."expiresAt", "public"."SMSVerification"."createdAt", "public"."SMSVerification"."usedAt"
prisma:query SELECT "public"."Specialist"."id", "public"."Specialist"."firstName", "public"."Specialist"."lastName", "public"."Specialist"."avatar", "public"."Specialist"."slug", "public"."Specialist"."category", "public"."Specialist"."specializations", "public"."Specialist"."tagline", "public"."Specialist"."about", "public"."Specialist"."city", "public"."Specialist"."country", "public"."Specialist"."workFormats", "public"."Specialist"."yearsOfPractice", "public"."Specialist"."phone", "public"."Specialist"."email", "public"."Specialist"."telegram", "public"."Specialist"."whatsapp", "public"."Specialist"."instagram", "public"."Specialist"."website", "public"."Specialist"."priceFrom", "public"."Specialist"."priceTo", "public"."Specialist"."currency", "public"."Specialist"."priceDescription", "public"."Specialist"."customFields", "public"."Specialist"."videoUrl", "public"."Specialist"."verified", "public"."Specialist"."verifiedAt", "public"."Specialist"."acceptingClients", "public"."Specialist"."metaTitle", "public"."Specialist"."metaDescription", "public"."Specialist"."subscriptionTier", "public"."Specialist"."profileViews", "public"."Specialist"."contactViews", "public"."Specialist"."createdAt", "public"."Specialist"."updatedAt" FROM "public"."Specialist" WHERE "public"."Specialist"."phone" = $1 LIMIT $2 OFFSET $3
prisma:query SELECT "public"."Specialist"."id", "public"."Specialist"."firstName", "public"."Specialist"."lastName", "public"."Specialist"."avatar", "public"."Specialist"."slug", "public"."Specialist"."category", "public"."Specialist"."specializations", "public"."Specialist"."tagline", "public"."Specialist"."about", "public"."Specialist"."city", "public"."Specialist"."country", "public"."Specialist"."workFormats", "public"."Specialist"."yearsOfPractice", "public"."Specialist"."phone", "public"."Specialist"."email", "public"."Specialist"."telegram", "public"."Specialist"."whatsapp", "public"."Specialist"."instagram", "public"."Specialist"."website", "public"."Specialist"."priceFrom", "public"."Specialist"."priceTo", "public"."Specialist"."currency", "public"."Specialist"."priceDescription", "public"."Specialist"."customFields", "public"."Specialist"."videoUrl", "public"."Specialist"."verified", "public"."Specialist"."verifiedAt", "public"."Specialist"."acceptingClients", "public"."Specialist"."metaTitle", "public"."Specialist"."metaDescription", "public"."Specialist"."subscriptionTier", "public"."Specialist"."profileViews", "public"."Specialist"."contactViews", "public"."Specialist"."createdAt", "public"."Specialist"."updatedAt" FROM "public"."Specialist" WHERE ("public"."Specialist"."slug" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query INSERT INTO "public"."Specialist" ("id","firstName","lastName","slug","category","specializations","about","country","workFormats","phone","currency","verified","acceptingClients","subscriptionTier","profileViews","contactViews","createdAt","updatedAt") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18) RETURNING "public"."Specialist"."id", "public"."Specialist"."firstName", "public"."Specialist"."lastName", "public"."Specialist"."avatar", "public"."Specialist"."slug", "public"."Specialist"."category", "public"."Specialist"."specializations", "public"."Specialist"."tagline", "public"."Specialist"."about", "public"."Specialist"."city", "public"."Specialist"."country", "public"."Specialist"."workFormats", "public"."Specialist"."yearsOfPractice", "public"."Specialist"."phone", "public"."Specialist"."email", "public"."Specialist"."telegram", "public"."Specialist"."whatsapp", "public"."Specialist"."instagram", "public"."Specialist"."website", "public"."Specialist"."priceFrom", "public"."Specialist"."priceTo", "public"."Specialist"."currency", "public"."Specialist"."priceDescription", "public"."Specialist"."customFields", "public"."Specialist"."videoUrl", "public"."Specialist"."verified", "public"."Specialist"."verifiedAt", "public"."Specialist"."acceptingClients", "public"."Specialist"."metaTitle", "public"."Specialist"."metaDescription", "public"."Specialist"."subscriptionTier", "public"."Specialist"."profileViews", "public"."Specialist"."contactViews", "public"."Specialist"."createdAt", "public"."Specialist"."updatedAt"
prisma:query SELECT "public"."AuthSession"."id", "public"."AuthSession"."specialistId", "public"."AuthSession"."sessionToken", "public"."AuthSession"."deviceFingerprint", "public"."AuthSession"."userAgent", "public"."AuthSession"."ipAddress", "public"."AuthSession"."isActive", "public"."AuthSession"."expiresAt", "public"."AuthSession"."lastUsedAt", "public"."AuthSession"."createdAt", "public"."AuthSession"."updatedAt" FROM "public"."AuthSession" WHERE ("public"."AuthSession"."specialistId" = $1 AND "public"."AuthSession"."isActive" = $2) ORDER BY "public"."AuthSession"."lastUsedAt" DESC OFFSET $3
prisma:query INSERT INTO "public"."AuthSession" ("id","specialistId","sessionToken","isActive","expiresAt","lastUsedAt","createdAt","updatedAt") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING "public"."AuthSession"."id", "public"."AuthSession"."specialistId", "public"."AuthSession"."sessionToken", "public"."AuthSession"."deviceFingerprint", "public"."AuthSession"."userAgent", "public"."AuthSession"."ipAddress", "public"."AuthSession"."isActive", "public"."AuthSession"."expiresAt", "public"."AuthSession"."lastUsedAt", "public"."AuthSession"."createdAt", "public"."AuthSession"."updatedAt"
[AUTH DEBUG] Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð° { specialistId: 'cmgiciaj100011z3u3nfvs8ol' }
[API/register] Cookie ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½: session_token=a8b901a11e...
 POST /api/auth/register 200 in 2360ms
[AUTH DEBUG] ÐžÑ‚Ð¿Ñ€Ð°Ð²ÐºÐ° SMS { phone: '+73687612817', purpose: 'registration' }
prisma:query DELETE FROM "public"."SMSVerification" WHERE ("public"."SMSVerification"."phone" = $1 AND "public"."SMSVerification"."purpose" = $2 AND "public"."SMSVerification"."isUsed" = $3)
prisma:query INSERT INTO "public"."SMSVerification" ("id","phone","code","purpose","isUsed","attempts","expiresAt","createdAt") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING "public"."SMSVerification"."id", "public"."SMSVerification"."phone", "public"."SMSVerification"."code", "public"."SMSVerification"."purpose", "public"."SMSVerification"."isUsed", "public"."SMSVerification"."attempts", "public"."SMSVerification"."expiresAt", "public"."SMSVerification"."createdAt", "public"."SMSVerification"."usedAt"

ðŸ” SMS ÐšÐžÐ” Ð´Ð»Ñ +73687612817: 6882

ðŸ“± Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ ÑÑ‚Ð¾Ñ‚ ÐºÐ¾Ð´ Ð´Ð»Ñ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ð¸

 POST /api/auth/send-sms 200 in 313ms
[AUTH DEBUG] ÐÐ°Ñ‡Ð°Ð»Ð¾ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ð¸ { provider: 'phone' }
prisma:query SELECT "public"."SMSVerification"."id", "public"."SMSVerification"."phone", "public"."SMSVerification"."code", "public"."SMSVerification"."purpose", "public"."SMSVerification"."isUsed", "public"."SMSVerification"."attempts", "public"."SMSVerification"."expiresAt", "public"."SMSVerification"."createdAt", "public"."SMSVerification"."usedAt" FROM "public"."SMSVerification" WHERE ("public"."SMSVerification"."phone" = $1 AND "public"."SMSVerification"."purpose" = $2 AND "public"."SMSVerification"."isUsed" = $3) ORDER BY "public"."SMSVerification"."createdAt" DESC LIMIT $4 OFFSET $5
prisma:query UPDATE "public"."SMSVerification" SET "isUsed" = $1, "usedAt" = $2 WHERE ("public"."SMSVerification"."id" = $3 AND 1=1) RETURNING "public"."SMSVerification"."id", "public"."SMSVerification"."phone", "public"."SMSVerification"."code", "public"."SMSVerification"."purpose", "public"."SMSVerification"."isUsed", "public"."SMSVerification"."attempts", "public"."SMSVerification"."expiresAt", "public"."SMSVerification"."createdAt", "public"."SMSVerification"."usedAt"
prisma:query SELECT "public"."Specialist"."id", "public"."Specialist"."firstName", "public"."Specialist"."lastName", "public"."Specialist"."avatar", "public"."Specialist"."slug", "public"."Specialist"."category", "public"."Specialist"."specializations", "public"."Specialist"."tagline", "public"."Specialist"."about", "public"."Specialist"."city", "public"."Specialist"."country", "public"."Specialist"."workFormats", "public"."Specialist"."yearsOfPractice", "public"."Specialist"."phone", "public"."Specialist"."email", "public"."Specialist"."telegram", "public"."Specialist"."whatsapp", "public"."Specialist"."instagram", "public"."Specialist"."website", "public"."Specialist"."priceFrom", "public"."Specialist"."priceTo", "public"."Specialist"."currency", "public"."Specialist"."priceDescription", "public"."Specialist"."customFields", "public"."Specialist"."videoUrl", "public"."Specialist"."verified", "public"."Specialist"."verifiedAt", "public"."Specialist"."acceptingClients", "public"."Specialist"."metaTitle", "public"."Specialist"."metaDescription", "public"."Specialist"."subscriptionTier", "public"."Specialist"."profileViews", "public"."Specialist"."contactViews", "public"."Specialist"."createdAt", "public"."Specialist"."updatedAt" FROM "public"."Specialist" WHERE "public"."Specialist"."phone" = $1 LIMIT $2 OFFSET $3
prisma:query SELECT "public"."Specialist"."id", "public"."Specialist"."firstName", "public"."Specialist"."lastName", "public"."Specialist"."avatar", "public"."Specialist"."slug", "public"."Specialist"."category", "public"."Specialist"."specializations", "public"."Specialist"."tagline", "public"."Specialist"."about", "public"."Specialist"."city", "public"."Specialist"."country", "public"."Specialist"."workFormats", "public"."Specialist"."yearsOfPractice", "public"."Specialist"."phone", "public"."Specialist"."email", "public"."Specialist"."telegram", "public"."Specialist"."whatsapp", "public"."Specialist"."instagram", "public"."Specialist"."website", "public"."Specialist"."priceFrom", "public"."Specialist"."priceTo", "public"."Specialist"."currency", "public"."Specialist"."priceDescription", "public"."Specialist"."customFields", "public"."Specialist"."videoUrl", "public"."Specialist"."verified", "public"."Specialist"."verifiedAt", "public"."Specialist"."acceptingClients", "public"."Specialist"."metaTitle", "public"."Specialist"."metaDescription", "public"."Specialist"."subscriptionTier", "public"."Specialist"."profileViews", "public"."Specialist"."contactViews", "public"."Specialist"."createdAt", "public"."Specialist"."updatedAt" FROM "public"."Specialist" WHERE ("public"."Specialist"."slug" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."Specialist"."id", "public"."Specialist"."firstName", "public"."Specialist"."lastName", "public"."Specialist"."avatar", "public"."Specialist"."slug", "public"."Specialist"."category", "public"."Specialist"."specializations", "public"."Specialist"."tagline", "public"."Specialist"."about", "public"."Specialist"."city", "public"."Specialist"."country", "public"."Specialist"."workFormats", "public"."Specialist"."yearsOfPractice", "public"."Specialist"."phone", "public"."Specialist"."email", "public"."Specialist"."telegram", "public"."Specialist"."whatsapp", "public"."Specialist"."instagram", "public"."Specialist"."website", "public"."Specialist"."priceFrom", "public"."Specialist"."priceTo", "public"."Specialist"."currency", "public"."Specialist"."priceDescription", "public"."Specialist"."customFields", "public"."Specialist"."videoUrl", "public"."Specialist"."verified", "public"."Specialist"."verifiedAt", "public"."Specialist"."acceptingClients", "public"."Specialist"."metaTitle", "public"."Specialist"."metaDescription", "public"."Specialist"."subscriptionTier", "public"."Specialist"."profileViews", "public"."Specialist"."contactViews", "public"."Specialist"."createdAt", "public"."Specialist"."updatedAt" FROM "public"."Specialist" WHERE ("public"."Specialist"."slug" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query INSERT INTO "public"."Specialist" ("id","firstName","lastName","slug","category","specializations","about","country","workFormats","phone","currency","verified","acceptingClients","subscriptionTier","profileViews","contactViews","createdAt","updatedAt") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18) RETURNING "public"."Specialist"."id", "public"."Specialist"."firstName", "public"."Specialist"."lastName", "public"."Specialist"."avatar", "public"."Specialist"."slug", "public"."Specialist"."category", "public"."Specialist"."specializations", "public"."Specialist"."tagline", "public"."Specialist"."about", "public"."Specialist"."city", "public"."Specialist"."country", "public"."Specialist"."workFormats", "public"."Specialist"."yearsOfPractice", "public"."Specialist"."phone", "public"."Specialist"."email", "public"."Specialist"."telegram", "public"."Specialist"."whatsapp", "public"."Specialist"."instagram", "public"."Specialist"."website", "public"."Specialist"."priceFrom", "public"."Specialist"."priceTo", "public"."Specialist"."currency", "public"."Specialist"."priceDescription", "public"."Specialist"."customFields", "public"."Specialist"."videoUrl", "public"."Specialist"."verified", "public"."Specialist"."verifiedAt", "public"."Specialist"."acceptingClients", "public"."Specialist"."metaTitle", "public"."Specialist"."metaDescription", "public"."Specialist"."subscriptionTier", "public"."Specialist"."profileViews", "public"."Specialist"."contactViews", "public"."Specialist"."createdAt", "public"."Specialist"."updatedAt"
prisma:query SELECT "public"."AuthSession"."id", "public"."AuthSession"."specialistId", "public"."AuthSession"."sessionToken", "public"."AuthSession"."deviceFingerprint", "public"."AuthSession"."userAgent", "public"."AuthSession"."ipAddress", "public"."AuthSession"."isActive", "public"."AuthSession"."expiresAt", "public"."AuthSession"."lastUsedAt", "public"."AuthSession"."createdAt", "public"."AuthSession"."updatedAt" FROM "public"."AuthSession" WHERE ("public"."AuthSession"."specialistId" = $1 AND "public"."AuthSession"."isActive" = $2) ORDER BY "public"."AuthSession"."lastUsedAt" DESC OFFSET $3
prisma:query INSERT INTO "public"."AuthSession" ("id","specialistId","sessionToken","isActive","expiresAt","lastUsedAt","createdAt","updatedAt") VALUES ($1,$2,$3,$4,$5,$6,$7,$8) RETURNING "public"."AuthSession"."id", "public"."AuthSession"."specialistId", "public"."AuthSession"."sessionToken", "public"."AuthSession"."deviceFingerprint", "public"."AuthSession"."userAgent", "public"."AuthSession"."ipAddress", "public"."AuthSession"."isActive", "public"."AuthSession"."expiresAt", "public"."AuthSession"."lastUsedAt", "public"."AuthSession"."createdAt", "public"."AuthSession"."updatedAt"
[AUTH DEBUG] Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð° { specialistId: 'cmgicifnc00051z3ue5zp4q9o' }
[API/register] Cookie ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½: session_token=65fc2a9cb4...
 POST /api/auth/register 200 in 1305ms
 âœ“ Compiled /api/auth/profile in 61ms (141 modules)
prisma:query SELECT "public"."AuthSession"."id", "public"."AuthSession"."specialistId", "public"."AuthSession"."sessionToken", "public"."AuthSession"."deviceFingerprint", "public"."AuthSession"."userAgent", "public"."AuthSession"."ipAddress", "public"."AuthSession"."isActive", "public"."AuthSession"."expiresAt", "public"."AuthSession"."lastUsedAt", "public"."AuthSession"."createdAt", "public"."AuthSession"."updatedAt" FROM "public"."AuthSession" WHERE ("public"."AuthSession"."sessionToken" = $1 AND "public"."AuthSession"."expiresAt" > $2) LIMIT $3 OFFSET $4
prisma:query SELECT "public"."Specialist"."id", "public"."Specialist"."firstName", "public"."Specialist"."lastName", "public"."Specialist"."avatar", "public"."Specialist"."slug", "public"."Specialist"."category", "public"."Specialist"."specializations", "public"."Specialist"."tagline", "public"."Specialist"."about", "public"."Specialist"."city", "public"."Specialist"."country", "public"."Specialist"."workFormats", "public"."Specialist"."yearsOfPractice", "public"."Specialist"."phone", "public"."Specialist"."email", "public"."Specialist"."telegram", "public"."Specialist"."whatsapp", "public"."Specialist"."instagram", "public"."Specialist"."website", "public"."Specialist"."priceFrom", "public"."Specialist"."priceTo", "public"."Specialist"."currency", "public"."Specialist"."priceDescription", "public"."Specialist"."customFields", "public"."Specialist"."videoUrl", "public"."Specialist"."verified", "public"."Specialist"."verifiedAt", "public"."Specialist"."acceptingClients", "public"."Specialist"."metaTitle", "public"."Specialist"."metaDescription", "public"."Specialist"."subscriptionTier", "public"."Specialist"."profileViews", "public"."Specialist"."contactViews", "public"."Specialist"."createdAt", "public"."Specialist"."updatedAt" FROM "public"."Specialist" WHERE "public"."Specialist"."id" IN ($1) OFFSET $2
prisma:query SELECT "public"."Specialist"."id", "public"."Specialist"."firstName", "public"."Specialist"."lastName", "public"."Specialist"."email", "public"."Specialist"."avatar", "public"."Specialist"."slug", "public"."Specialist"."category", "public"."Specialist"."specializations", "public"."Specialist"."verified", "public"."Specialist"."acceptingClients", "public"."Specialist"."tagline", "public"."Specialist"."about", "public"."Specialist"."city", "public"."Specialist"."phone", "public"."Specialist"."priceFrom", "public"."Specialist"."priceTo", "public"."Specialist"."yearsOfPractice", "public"."Specialist"."videoUrl" FROM "public"."Specialist" WHERE ("public"."Specialist"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
 GET /api/auth/profile 200 in 1193ms
