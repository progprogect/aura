# üöÄ –ü–æ—à–∞–≥–æ–≤—ã–π –∑–∞–ø—É—Å–∫ –Ω–∞ Railway

## ‚úÖ –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ:

1. ‚úÖ –ö–æ–¥ –≤ GitHub: https://github.com/progprogect/aura
2. ‚úÖ PostgreSQL –¥–æ–±–∞–≤–ª–µ–Ω –Ω–∞ Railway
3. ‚úÖ Redis –¥–æ–±–∞–≤–ª–µ–Ω –Ω–∞ Railway
4. ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (–∫—Ä–æ–º–µ NEXT_PUBLIC_APP_URL)

---

## üìù –®–∞–≥–∏ –¥–ª—è –∑–∞–ø—É—Å–∫–∞:

### **–®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**

Railway ‚Üí –¢–≤–æ–π Next.js —Å–µ—Ä–≤–∏—Å ‚Üí **Variables**

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
DATABASE_URL=${{Postgres.DATABASE_URL}}  ‚Üê –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
REDIS_URL=${{Redis.REDIS_URL}}            ‚Üê –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
NODE_ENV=production                        ‚Üê –≤—Ä—É—á–Ω—É—é (–µ—Å–ª–∏ –¥–æ–±–∞–≤–∏–ª)
```

**NEXT_PUBLIC_APP_URL –ø–æ–∫–∞ –ù–ï –Ω—É–∂–µ–Ω** - –¥–æ–±–∞–≤–∏–º –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –¥–µ–ø–ª–æ—è.

---

### **–®–∞–≥ 2: –î–æ–∂–¥–∏—Å—å –ø–µ—Ä–≤–æ–≥–æ –¥–µ–ø–ª–æ—è**

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–∞–ª –¥–µ–ø–ª–æ–π –∫–æ–≥–¥–∞ —Ç—ã –ø–æ–¥–∫–ª—é—á–∏–ª GitHub.

**–ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å:**
Railway ‚Üí Next.js —Å–µ—Ä–≤–∏—Å ‚Üí **Deployments**

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
- üü¢ **Success** - –æ—Ç–ª–∏—á–Ω–æ, –ø–µ—Ä–µ—Ö–æ–¥–∏ –∫ –®–∞–≥—É 3
- üîµ **Building** - –ø–æ–¥–æ–∂–¥–∏ 3-5 –º–∏–Ω—É—Ç
- üî¥ **Failed** - —Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏ (View Logs), –ø–∏—à–∏ –º–Ω–µ

---

### **–®–∞–≥ 3: –ü–æ–ª—É—á–∏ –¥–æ–º–µ–Ω**

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è Railway —Å–æ–∑–¥–∞—Å—Ç –¥–æ–º–µ–Ω:

Railway ‚Üí Next.js —Å–µ—Ä–≤–∏—Å ‚Üí **Settings** ‚Üí **Networking** ‚Üí **Public Networking**

–¢–∞–º –±—É–¥–µ—Ç URL —Ç–∏–ø–∞:
```
https://aura-production-xxxx.up.railway.app
```

**–°–∫–æ–ø–∏—Ä—É–π —ç—Ç–æ—Ç URL!**

---

### **–®–∞–≥ 4: –î–æ–±–∞–≤—å NEXT_PUBLIC_APP_URL**

Railway ‚Üí Next.js —Å–µ—Ä–≤–∏—Å ‚Üí **Variables** ‚Üí **New Variable**

```
NEXT_PUBLIC_APP_URL=https://aura-production-xxxx.up.railway.app
```

(–í—Å—Ç–∞–≤—å —Å–≤–æ–π –¥–æ–º–µ–Ω –∏–∑ –®–∞–≥–∞ 3)

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥–µ–ø–ª–æ–∏—Ç.

---

### **–®–∞–≥ 5: –í—ã–ø–æ–ª–Ω–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**

–¢–µ–ø–µ—Ä—å —Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ë–î!

#### **–°–ø–æ—Å–æ–± A: –ß–µ—Ä–µ–∑ Railway UI (–ø—Ä–æ—â–µ –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ —Ä–∞–∑–∞)**

1. Railway ‚Üí Next.js —Å–µ—Ä–≤–∏—Å ‚Üí **Settings** ‚Üí **Deploy**
2. –ù–∞–π–¥–∏ **"Custom Start Command"**
3. –í—Ä–µ–º–µ–Ω–Ω–æ –∏–∑–º–µ–Ω–∏ –Ω–∞:
```bash
npx prisma db push && npm run db:seed-categories && node server.js
```
4. –ù–∞–∂–º–∏ **"Redeploy"** (—Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É)
5. –î–æ–∂–¥–∏—Å—å —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è (3-5 –º–∏–Ω—É—Ç)
6. –í–µ—Ä–Ω–∏ –∫–æ–º–∞–Ω–¥—É –Ω–∞:
```bash
node server.js
```
7. –°–æ—Ö—Ä–∞–Ω–∏

**–ì–æ—Ç–æ–≤–æ!** –ë–î –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã.

---

#### **–°–ø–æ—Å–æ–± B: –ß–µ—Ä–µ–∑ Railway CLI** 

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å –±–æ–ª—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—è:

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å CLI (–µ—Å–ª–∏ –µ—â–µ –Ω–µ—Ç)
npm install -g @railway/cli

# 2. –ó–∞–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è
railway login

# 3. –°–≤—è–∑–∞—Ç—å —Å –ø—Ä–æ–µ–∫—Ç–æ–º
railway link
# (–í—ã–±–µ—Ä–∏ —Å–≤–æ–π –ø—Ä–æ–µ–∫—Ç "–ê—É—Ä–∞")

# 4. –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
railway run npx prisma db push

# 5. –ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)
railway run npm run db:seed-categories

# 6. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤
railway run npm run db:seed
```

---

### **–®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä—å —Ä–∞–±–æ—Ç—É!**

–û—Ç–∫—Ä–æ–π —Å–≤–æ–π —Å–∞–π—Ç:
```
https://aura-production-xxxx.up.railway.app
```

–î–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –Ω–∞–¥–ø–∏—Å—å—é "üöÄ –ü—Ä–æ–µ–∫—Ç –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ"

**–ü—Ä–æ–≤–µ—Ä—å –ø—Ä–æ—Ñ–∏–ª–∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤:**
```
https://—Ç–≤–æ–π-–¥–æ–º–µ–Ω/specialist/anna-ivanova-psiholog
https://—Ç–≤–æ–π-–¥–æ–º–µ–Ω/specialist/dmitriy-petrov-trener
https://—Ç–≤–æ–π-–¥–æ–º–µ–Ω/specialist/elena-smirnova-nutriciolog
```

–ï—Å–ª–∏ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è - **–≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç!** üéâ

---

## üêõ –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

### **–ü—Ä–æ–±–ª–µ–º–∞ 1: Build failed**

**–°–º–æ—Ç—Ä–∏ –ª–æ–≥–∏:**
Railway ‚Üí Deployments ‚Üí Failed deployment ‚Üí **View Logs**

**–ß–∞—Å—Ç—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- DATABASE_URL –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ‚Üí –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ PostgreSQL —Å–≤—è–∑–∞–Ω
- –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ ‚Üí –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏, –ø–∏—à–∏ –º–Ω–µ

### **–ü—Ä–æ–±–ª–µ–º–∞ 2: "Page not found" –Ω–∞ /specialist/[slug]**

**–ü—Ä–∏—á–∏–Ω–∞:** –ë–î –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ (–Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö)

**–†–µ—à–µ–Ω–∏–µ:**
```bash
railway run npm run db:seed-categories
railway run npm run db:seed
```

### **–ü—Ä–æ–±–ª–µ–º–∞ 3: –°–∞–π—Ç –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è**

**–ü—Ä–æ–≤–µ—Ä—å:**
- –î–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —É—Å–ø–µ—à–Ω–æ (üü¢ Success)
- Public Networking –≤–∫–ª—é—á–µ–Ω (Settings ‚Üí Networking)
- –î–æ–º–µ–Ω —Å–æ–∑–¥–∞–Ω

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Railway (—á—Ç–æ —É —Ç–µ–±—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å):

```
–ü—Ä–æ–µ–∫—Ç "–ê—É—Ä–∞"
‚îú‚îÄ‚îÄ üöÄ aura-production (Next.js)
‚îÇ   ‚îú‚îÄ‚îÄ Status: üü¢ Active
‚îÇ   ‚îú‚îÄ‚îÄ Domain: aura-production-xxxx.up.railway.app
‚îÇ   ‚îî‚îÄ‚îÄ Variables:
‚îÇ       ‚îú‚îÄ‚îÄ DATABASE_URL (auto) ‚úÖ
‚îÇ       ‚îú‚îÄ‚îÄ REDIS_URL (auto) ‚úÖ
‚îÇ       ‚îú‚îÄ‚îÄ NODE_ENV=production ‚úÖ
‚îÇ       ‚îî‚îÄ‚îÄ NEXT_PUBLIC_APP_URL (–¥–æ–±–∞–≤–∏—à—å –Ω–∞ –®–∞–≥–µ 4)
‚îÇ
‚îú‚îÄ‚îÄ üóÑÔ∏è Postgres
‚îÇ   ‚îî‚îÄ‚îÄ Status: üü¢ Active
‚îÇ
‚îî‚îÄ‚îÄ üî¥ Redis  
    ‚îî‚îÄ‚îÄ Status: üü¢ Active
```

---

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —á–µ–∫–ª–∏—Å—Ç:

- [ ] –î–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —É—Å–ø–µ—à–Ω–æ
- [ ] –ü–æ–ª—É—á–∏–ª –¥–æ–º–µ–Ω
- [ ] –î–æ–±–∞–≤–∏–ª NEXT_PUBLIC_APP_URL
- [ ] –í—ã–ø–æ–ª–Ω–∏–ª –º–∏–≥—Ä–∞—Ü–∏–∏ (Custom Start Command –∏–ª–∏ CLI)
- [ ] –û—Ç–∫—Ä—ã–ª —Å–∞–π—Ç - —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –û—Ç–∫—Ä—ã–ª –ø—Ä–æ—Ñ–∏–ª—å —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞ - —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üéØ –ß—Ç–æ –¥–µ–ª–∞—Ç—å —Å–µ–π—á–∞—Å:

1. **–ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—è** –≤ Railway
   - –ï—Å–ª–∏ Success ‚Üí –ø–µ—Ä–µ—Ö–æ–¥–∏ –∫ –®–∞–≥—É 3 (–ø–æ–ª—É—á–∏ –¥–æ–º–µ–Ω)
   - –ï—Å–ª–∏ Failed ‚Üí –ø—Ä–∏—à–ª–∏ –ª–æ–≥–∏, –ø–æ–º–æ–≥—É —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è
   - –ï—Å–ª–∏ Building ‚Üí –ø–æ–¥–æ–∂–¥–∏ 3-5 –º–∏–Ω—É—Ç

2. **–ü–æ–ª—É—á–∏ –¥–æ–º–µ–Ω** (–®–∞–≥ 3)

3. **–î–æ–±–∞–≤—å NEXT_PUBLIC_APP_URL** (–®–∞–≥ 4)

4. **–í—ã–ø–æ–ª–Ω–∏ –º–∏–≥—Ä–∞—Ü–∏–∏** (–®–∞–≥ 5) - **—Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ!**

5. **–ü—Ä–æ–≤–µ—Ä—å —Å–∞–π—Ç** (–®–∞–≥ 6)

---

**–°–∫–∞–∂–∏ –Ω–∞ –∫–∞–∫–æ–º —à–∞–≥–µ —Ç—ã —Å–µ–π—á–∞—Å, –∏ —è –ø–æ–º–æ–≥—É!** üöÄ

–ï—Å–ª–∏ –¥–µ–ø–ª–æ–π —É–∂–µ –ø—Ä–æ—à–µ–ª —É—Å–ø–µ—à–Ω–æ - –¥–∞–π –º–Ω–µ –∑–Ω–∞—Ç—å, –ø–æ–º–æ–≥—É —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏!

